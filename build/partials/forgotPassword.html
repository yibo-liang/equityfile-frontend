<div class="ui centered grid" ng-controller="forgotPasswordController">
	<div class="ui centered four wide row">
	<h1 class="ui dividing header">Forgotten Password
	</h1>
	</div>
	<div class="ui six wide column">
		<div ng-if = "step == 0" class="ui middle aligned sub header">
			Enter your email
		</div>
		<div ng-if = "step == 1" class="ui middle aligned sub header">
			Enter the code received in your e-mail
		</div>
		<div ng-if = "step == 2" class="ui middle aligned sub header">
			Enter a new password
		</div>
		<form ng-if="step == 0" name="emailForm" ng-submit="submitEmail(email)" novalidate class="ui form error segment">
			<div ng-class="errors[1] && 'error' || ''" class="field">
				<label>Email</label>
				<div class="ui left icon input">
					<input placeholder="E-mail Address..." type="text" ng-model="email" name="email" required="">
					<i class="mail icon"></i>
				</div>
				<span class = "redError" ng-show="errors[1]">No such e-mail registered</span>
			</div>
			<button type="submit" class="ui blue button fluid">Submit</button>
		</form>
		<form ng-if="step == 1" name="codeForm" ng-submit="submitCode(code)" novalidate class="ui form error segment">
			<div ng-class="errors[2] && 'error' || ''" class="field">
				<label>Code received in e-mail</label>
				An e-mail has been sent with a code, please enter the code here
				<div class="ui left icon input">
					<input placeholder="Code..." type="text" ng-model="code" name="code" required="">
				</div>
				<span class = "redError" ng-show="errors[2]">Code does not match</span>
			</div>
			<button type="submit" class="ui blue button fluid">Submit</button>
		</form>
		<form ng-if="step == 2" name="changePasswordForm" ng-controller="forgotPasswordController" ng-submit="changePassword(user)" novalidate class="ui form error segment">
				<div ng-class="errors[4] && 'error' || ''" class="field">
					<label>New Password</label>
					<div ng-class="errors[4] && 'error' || ''" class="ui left icon input">
						<input placeholder="New Password" type="password" ng-model="user.new1" name="new_pass_1" required="" >
						<i class="lock icon"></i>
					</div>
				</div>
				<div ng-class="errors[4] && 'error' || ''" class="field">
					<label>Confirm New Password</label>
					<div class="ui left icon input">
						<input placeholder="New Password" type="password" ng-model="user.new2" name="new_pass_2" required="" >
						<i class="lock icon"></i>
					</div>
					<span class = "redError" ng-show="errors[4]">Invalid or passwords do not match</span>
				</div>
			<button type="submit" class="ui blue button fluid">Submit</button>
		</form>
	</div>
</div>
